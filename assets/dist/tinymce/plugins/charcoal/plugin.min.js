/*! @locomotivemtl/charcoal-admin */

!function(n,o){var i=n.util.Tools.each;n.create("tinymce.plugins.Charcoal",{init:function(a){a.on("init",function(){var n=a.getDoc(),t=a.dom,e=["charcoal-editor"];e.push("mceContentBody"),"rtl"===a.getParam("directionality")&&(e.push("rtl"),t.setAttrib(n.documentElement,"dir","rtl")),t.setAttrib(n.documentElement,"lang",a.getParam("root_lang_attr")),i(e,function(e){e&&t.addClass(n.body,e)}),a.getParam("autohide_toolbar")&&o(a.getContentAreaContainer().parentElement).find("div.mce-toolbar-grp").hide(),a.getParam("autohide_menubar")&&o(a.getContentAreaContainer().parentElement).find("div.mce-menubar").hide()}),a.getParam("autohide_toolbar")&&(a.on("focus",function(){o(a.getContentAreaContainer().parentElement).find("div.mce-toolbar-grp").show()}),a.on("blur",function(){o(a.getContentAreaContainer().parentElement).find("div.mce-toolbar-grp").hide()})),a.getParam("autohide_menubar")&&(a.on("focus",function(){o(a.getContentAreaContainer().parentElement).find("div.mce-menubar").show()}),a.on("blur",function(){o(a.getContentAreaContainer().parentElement).find("div.mce-menubar").hide()})),!1===a.getParam("image_dimensions")&&a.on("NodeChange",function(e){e&&"img"===e.element.nodeName.toLowerCase()&&n.DOM.setAttribs(e.element,{width:null,height:null})})}}),n.PluginManager.add("charcoal",n.plugins.Charcoal,n.plugins.Charcoal.dependencies)}(window.tinymce,window.jQuery);