/*! @locomotivemtl/charcoal-admin 05-11-2019 */

!function(c){c.PluginManager.add("placeholder",function(i){i.on("init",function(){if(!0!==i.settings.readonly&&!0!==i.settings.inline){var t=i.getElement().getAttribute("placeholder")||i.settings.placeholder;if(void 0!==t){"string"==typeof t&&(t={text:t}),void 0===t.attr&&(t.attr=i.settings.placeholder_attr||{class:"mce-placeholder-area"}),void 0===t.tag&&(t.tag=i.settings.placeholder_tag||"label");var e=new o(t,i.getContentAreaContainer()||i.getBody());c.DOM.bind(e.el,"click",n),i.on("focus",n),i.on("blur",function(){e.check()}),i.on("change",function(){e.check()}),i.on("setcontent",function(){e.check()}),setTimeout(function(){e.check()},1e3)}}function n(){e.check(),i.focus()}});var o=function(t,e){this.data=t,this.text=t.text,c.DOM.setStyle(e,"position","relative"),this.el=c.DOM.add(e,t.tag,t.attr,c.DOM.decode(t.text))};o.prototype.hide=function(){c.DOM.setStyle(this.el,"display","none")},o.prototype.show=function(){c.DOM.setStyle(this.el,"display","")},o.prototype.check=function(){var t=i.getBody();null!==t&&(""===t.textContent.trim()?this.show():this.hide())}})}(window.tinymce);