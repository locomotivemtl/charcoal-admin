/*! @locomotivemtl/charcoal-admin 04-07-2018 */

!function(t){t.PluginManager.add("placeholder",function(e){e.on("init",function(){function i(){c.check(),e.focus()}if(!0!==e.settings.readonly&&!0!==e.settings.inline){var o=e.getElement().getAttribute("placeholder")||e.settings.placeholder;if(void 0!==o){"string"==typeof o&&(o={text:o}),void 0===o.attr&&(o.attr=e.settings.placeholder_attr||{class:"mce-placeholder-area"}),void 0===o.tag&&(o.tag=e.settings.placeholder_tag||"label");var c=new n(o,e.getContentAreaContainer()||e.getBody());t.DOM.bind(c.el,"click",i),e.on("focus",i),e.on("blur",function(){c.check()}),e.on("change",function(){c.check()}),e.on("setcontent",function(){c.check()}),setTimeout(function(){c.check()},1e3)}}});var n=function(e,n){this.data=e,this.text=e.text,t.DOM.setStyle(n,"position","relative"),this.el=t.DOM.add(n,e.tag,e.attr,t.DOM.decode(e.text))};n.prototype.hide=function(){t.DOM.setStyle(this.el,"display","none")},n.prototype.show=function(){t.DOM.setStyle(this.el,"display","")},n.prototype.check=function(){var t=e.getBody();if(null!==t){""===t.textContent.trim()?this.show():this.hide()}}})}(window.tinymce);